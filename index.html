<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Night Delivery Ma≈Çdyty</title>

<style>
:root{--yellow:#f5c400;}
body{margin:0;font-family:Arial;background:#000;color:#fff}
.banner{height:160px;display:flex;justify-content:center;align-items:center}
.banner img{max-width:320px;width:80%}
header{text-align:center;padding:20px}
h1{color:var(--yellow)}
.card{background:#111;border-radius:18px;padding:20px;margin:15px}
label{font-size:14px;opacity:.8}
input,textarea{width:100%;margin-top:6px;padding:12px;border-radius:12px;border:none;background:#000;color:#fff}
button.main{margin-top:15px;width:100%;padding:14px;border:none;border-radius:14px;background:var(--yellow);font-weight:bold}
.langs button{margin:5px;padding:6px 12px;border:1px solid var(--yellow);background:none;color:var(--yellow);border-radius:20px}
.stars span{font-size:26px;cursor:pointer;color:#444}
.stars span.active{color:var(--yellow)}
#regulamin{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9)}
#regulamin .box{background:#111;margin:40px auto;padding:20px;border-radius:18px;max-width:600px}
</style>
</head>

<body>

<div class="banner"><img src="logo.png"></div>

<header>
<h1>Night Delivery Ma≈Çdyty</h1>
<a style="color:#f5c400" href="tel:+48512956568">üìû 512 956 568</a><br>
<a style="color:#f5c400" href="#" onclick="openReg()">üìú Regulamin</a>

<div id="avgRating">‚≠ê 0.0 / 5 (0 opinii)</div>

<div class="langs">
<button onclick="setLang('pl')">PL</button>
<button onclick="setLang('en')">EN</button>
<button onclick="setLang('ua')">UA</button>
</div>
</header>

<div class="card">
<label id="l1">Dystans (km)</label>
<input id="km" type="number">

<button class="main" onclick="getGPS()">üìç Oblicz km z GPS</button>

<label id="l2">Opis zam√≥wienia</label>
<textarea id="note"></textarea>

<label id="l3">Napiwek (opcjonalnie)</label>
<input id="tip" type="number">

<button class="main" id="calcBtn" onclick="calculate()">Oblicz cenƒô</button>
<div id="price" style="color:#f5c400;font-size:20px;text-align:center"></div>

<button class="main" onclick="sendOrder()">üì© Zam√≥w</button>
</div>

<div class="card">
<label>Oce≈Ñ aplikacjƒô</label>
<div class="stars" id="stars"></div>
<textarea id="opinionText"></textarea>
<button class="main" onclick="saveOpinion()">Dodaj opiniƒô</button>
</div>

<div class="card" id="opinions"></div>

<div id="regulamin">
<div class="box">
<h2>REGULAMIN</h2>
<p>- Zakaz alkoholu i nikotyny dla nieletnich<br>
- >30 z≈Ç wymagana przedp≈Çata BLIK<br>
- Cena nie podlega negocjacji<br>
- Kierowca ma prawo odm√≥wiƒá<br>
- Powy≈ºej 50 km nie kursujemy</p>
<button class="main" onclick="closeReg()">Zamknij</button>
</div>
</div>

<script>
/* ELEMENTY */
const km=document.getElementById("km");
const tip=document.getElementById("tip");
const note=document.getElementById("note");
const priceDiv=document.getElementById("price");
const avgRating=document.getElementById("avgRating");

/* GPS */
const MALDYTY={lat:53.9586,lon:19.7406};
function getGPS(){
navigator.geolocation.getCurrentPosition(p=>{
const d=calc(MALDYTY.lat,MALDYTY.lon,p.coords.latitude,p.coords.longitude);
km.value=d.toFixed(1);
});
}
function calc(a,b,c,d){
const R=6371;
const x=Math.sin((c-a)*Math.PI/360)**2+
Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*
Math.sin((d-b)*Math.PI/360)**2;
return R*2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));
}

/* CENA */
function calculate(){
const k=Number(km.value);
const t=Number(tip.value)||0;
if(!k) return alert("Podaj km");
if(k>50) return alert("Powy≈ºej 50 km nie kursujemy");
const night=new Date().getHours()>=22||new Date().getHours()<6;
let price=(night?19:15)+k*(night?1.6:1.4)+t;
priceDiv.innerText="Cena: "+price.toFixed(2)+" z≈Ç";
}

/* ZAM√ìW */
function sendOrder(){
if(priceDiv.innerText==="") return alert("Najpierw oblicz cenƒô");
window.open("https://wa.me/48512956568?text="+encodeURIComponent(
priceDiv.innerText+"\nKm: "+km.value+"\n"+note.value
));
}

/* REGULAMIN */
function openReg(){regulamin.style.display="block"}
function closeReg(){regulamin.style.display="none"}

/* OPINIE */
let selected=0;
for(let i=1;i<=5;i++){
const s=document.createElement("span");
s.innerText="‚òÖ";
s.onclick=()=>{selected=i;[...stars.children].forEach((x,j)=>x.classList.toggle("active",j<i))};
stars.appendChild(s);
}
function saveOpinion(){
if(!selected) return alert("Wybierz gwiazdki");
const d=JSON.parse(localStorage.getItem("opinions")||"[]");
d.push({s:selected,t:opinionText.value});
localStorage.setItem("opinions",JSON.stringify(d));
opinionText.value="";selected=0;loadOpinions();
}
function loadOpinions(){
const d=JSON.parse(localStorage.getItem("opinions")||"[]");
let sum=0;opinions.innerHTML="";
d.forEach(o=>{sum+=o.s;opinions.innerHTML+=`‚≠ê ${o.s}/5 ‚Äì ${o.t}<br>`});
avgRating.innerText=d.length?`‚≠ê ${(sum/d.length).toFixed(1)} / 5 (${d.length})`:"‚≠ê 0.0 / 5 (0)";
}
loadOpinions();

/* JƒòZYKI */
const t={
pl:{l1:"Dystans (km)",l2:"Opis zam√≥wienia",l3:"Napiwek (opcjonalnie)",btn:"Oblicz cenƒô"},
en:{l1:"Distance (km)",l2:"Order details",l3:"Tip (optional)",btn:"Calculate"},
ua:{l1:"–í—ñ–¥—Å—Ç–∞–Ω—å (–∫–º)",l2:"–û–ø–∏—Å",l3:"–ß–∞–π–æ–≤—ñ",btn:"–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏"}
};
function setLang(l){
l1.innerText=t[l].l1;
l2.innerText=t[l].l2;
l3.innerText=t[l].l3;
calcBtn.innerText=t[l].btn;
}
</script>

</body>
</html>









<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Night Delivery Ma≈Çdyty</title>

<meta name="theme-color" content="#000000">
<link rel="manifest" href="manifest.json">

<style>
:root{
--yellow:#f5c400;
--black:#000;
--dark:#111;
}

body{
margin:0;
font-family:Arial, sans-serif;
background:#000;
color:#fff;
}

/* BANER */
.banner{
height:160px;
display:flex;
justify-content:center;
align-items:center;
background:radial-gradient(circle at top, rgba(245,196,0,.25), transparent 65%);
}
.banner img{
max-width:320px;
width:80%;
}

/* HEADER */
header{
text-align:center;
padding:20px;
}
h1{
color:var(--yellow);
margin:5px 0;
}
.sub{opacity:.8;}
.phone{
color:var(--yellow);
text-decoration:none;
font-size:18px;
display:block;
margin-top:8px;
}
.rating{
margin-top:6px;
font-size:14px;
opacity:.8;
}
.langs button{
margin:6px;
padding:6px 14px;
background:none;
border:1px solid var(--yellow);
color:var(--yellow);
border-radius:20px;
}

/* KARTY */
.card{
background:#111;
border-radius:18px;
padding:20px;
margin:15px;
}
label{
font-size:14px;
opacity:.8;
}
input, select, textarea{
width:100%;
margin-top:6px;
padding:12px;
border-radius:12px;
border:none;
background:#000;
color:#fff;
}
button.main{
margin-top:15px;
width:100%;
padding:14px;
border:none;
border-radius:14px;
background:var(--yellow);
font-weight:bold;
font-size:16px;
}

/* GWIAZDKI */
.stars span{
font-size:26px;
cursor:pointer;
color:#444;
}
.stars span.active{color:var(--yellow);}
.opinia{
font-size:13px;
border-bottom:1px solid #222;
padding:8px 0;
}

/* REGULAMIN */
.regulamin{
display:none;
font-size:13px;
opacity:.85;
line-height:1.4;
margin-top:10px;
}

footer{
text-align:center;
padding:20px;
opacity:.7;
}
</style>
</head>

<body>

<div class="banner">
<img src="logo.png" alt="Night Delivery">
</div>

<header>
<h1>Night Delivery Ma≈Çdyty</h1>
<div class="sub">Dostawa & przew√≥z 24/7</div>

<a class="phone" href="tel:+48512956568">üìû +48 512 956 568</a>

<div class="rating" id="avgRating">‚≠ê 0.0 / 5 (0 opinii)</div>

<div class="langs">
<button onclick="setLang('pl')">PL</button>
<button onclick="setLang('en')">EN</button>
<button onclick="setLang('ua')">UA</button>
</div>
</header>

<!-- ZAM√ìWIENIE -->
<div class="card">
<label id="l1">Rodzaj us≈Çugi</label>
<select id="type">
<option value="delivery">üçî Dostawa (jedzenie / zakupy)</option>
<option value="ride">üöó Przew√≥z osoby</option>
</select>

<label id="l2">Dystans (km)</label>
<input type="number" id="km" placeholder="np. 12">

<button class="main" onclick="getGPS()">üìç Oblicz km z GPS (od Ma≈Çdyt)</button>

<label id="l3">Adres / opis zam√≥wienia</label>
<textarea id="note"></textarea>

<label>Napiwek (opcjonalnie)</label>
<input type="number" id="tip" placeholder="np. 5">

<button class="main" onclick="calculate()" id="calcBtn">Oblicz cenƒô</button>
<div id="price" style="text-align:center;color:var(--yellow);font-size:22px;margin-top:10px"></div>

<button class="main" onclick="sendOrder()">üì© Zam√≥w (SMS / WhatsApp)</button>
</div>

<!-- REGULAMIN -->
<div class="card">
<button class="main" onclick="toggleReg()">üìú Regulamin</button>
<div class="regulamin" id="reg">
<b>REGULAMIN</b><br><br>
- Nie kupujemy alkoholu i wyrob√≥w nikotynowych osobom poni≈ºej 18 lat.<br>
- Przy zam√≥wieniach powy≈ºej 30 z≈Ç wymagana przedp≈Çata BLIK.<br>
- Kierowca ma prawo odm√≥wiƒá realizacji.<br>
- Cena us≈Çugi nie podlega negocjacji.<br>
- Zam√≥wienie oznacza akceptacjƒô regulaminu.
</div>
</div>

<!-- OPINIE -->
<div class="card">
<label>Twoje imiƒô</label>
<input id="opName">

<label>Oce≈Ñ aplikacjƒô</label>
<div class="stars" id="stars"></div>

<textarea id="opinionText" placeholder="Napisz opiniƒô"></textarea>
<button class="main" onclick="saveOpinion()">Dodaj opiniƒô</button>
</div>

<div class="card">
<h3>Opinie</h3>
<div id="opinions"></div>
</div>

<footer>
üìû 512 956 568<br>
22:00‚Äì6:00 taryfa nocna
</footer>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyDqWK9pZt5Ak97-1b12LymEu5bGVLpbPn0",
authDomain: "night-delivery-18960.firebaseapp.com",
projectId: "night-delivery-18960",
storageBucket: "night-delivery-18960.appspot.com",
messagingSenderId: "425404689430",
appId: "1:425404689430:web:fce19048bee3232a11937"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const ref = collection(db,"opinions");

window.saveOpinion = async ()=>{
if(!selected) return alert("Wybierz gwiazdki");
await addDoc(ref,{
name:opName.value||"Anonim",
stars:selected,
text:opinionText.value
});
opinionText.value="";
selected=0;
loadOpinions();
};

async function loadOpinions(){
const snap=await getDocs(ref);
let sum=0,c=0;
opinions.innerHTML="";
snap.forEach(d=>{
const o=d.data();
sum+=o.stars;c++;
opinions.innerHTML+=`<div class="opinia">‚≠ê ${o.stars}/5 ‚Äì <b>${o.name}</b><br>${o.text||""}</div>`;
});
avgRating.innerText=`‚≠ê ${(c?sum/c:0).toFixed(1)} / 5 (${c} opinii)`;
}
loadOpinions();
</script>

<script>
/* RESZTA LOGIKI */
let selected=0;
const starsDiv=document.getElementById("stars");
for(let i=1;i<=5;i++){
const s=document.createElement("span");
s.innerText="‚òÖ";
s.onclick=()=>{selected=i;[...starsDiv.children].forEach((x,j)=>x.classList.toggle("active",j<i));};
starsDiv.appendChild(s);
}

const MALDYTY={lat:53.9586,lon:19.7406};
function getGPS(){
navigator.geolocation.getCurrentPosition(p=>{
const km=distance(MALDYTY.lat,MALDYTY.lon,p.coords.latitude,p.coords.longitude);
kmInput.value=km.toFixed(1);
});
}
function distance(a,b,c,d){
const R=6371;
const dLat=(c-a)*Math.PI/180;
const dLon=(d-b)*Math.PI/180;
const x=Math.sin(dLat/2)**2+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(dLon/2)**2;
return R*2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));
}

function calculate(){
const km=+kmInput.value;
const tip=+tipInput.value||0;
if(!km)return;
const night=new Date().getHours()>=22||new Date().getHours()<6;
let price=night?19+km*1.6:15+km*1.4;
price+=tip;
priceDiv.innerText="Cena: "+price.toFixed(2)+" z≈Ç";
}

function sendOrder(){
const phone="512956568";
const text=`Night Delivery Ma≈Çdyty
Us≈Çuga: ${type.value}
Km: ${kmInput.value}
${priceDiv.innerText}
Uwagi: ${note.value}`;
window.open(`https://wa.me/48${phone}?text=`+encodeURIComponent(text));
}

function toggleReg(){
reg.style.display=reg.style.display==="block"?"none":"block";
}

const kmInput=document.getElementById("km");
const tipInput=document.getElementById("tip");
const priceDiv=document.getElementById("price");
</script>

</body>
</html>













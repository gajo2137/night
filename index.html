<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Night Delivery Ma≈Çdyty</title>

<style>
:root{
--yellow:#f5c400;
--text:#fff;
--muted:#aaa;
}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial}

body{
margin:0;
color:var(--text);
background:
radial-gradient(1200px 600px at top, #111 0%, #000 60%),
linear-gradient(180deg, #050505, #000);
}

/* BANER */
.banner img{width:100%;max-height:260px;object-fit:cover}
.banner-text{text-align:center;padding:14px;border-bottom:1px solid rgba(255,255,255,.06)}
.banner-text h1{margin:0;color:var(--yellow)}
.banner-text p{margin:4px 0;color:var(--muted)}

/* ≈öREDNIA OCENA */
.avg-rating{
text-align:center;
padding:10px;
font-size:18px;
color:var(--yellow);
}

/* JƒòZYK */
.lang{display:flex;justify-content:center;gap:10px;margin-top:8px}
.lang button{
background:transparent;
border:1px solid var(--yellow);
color:var(--yellow);
padding:5px 12px;
border-radius:20px;
font-weight:600;
}

/* MAIN */
main{max-width:520px;margin:auto;padding:18px}

/* KARTY */
.card{
background:rgba(17,17,17,.85);
backdrop-filter:blur(10px);
border-radius:20px;
padding:16px;
margin-bottom:18px;
box-shadow:0 10px 30px rgba(0,0,0,.6);
}

/* FORM */
.label{font-size:13px;color:var(--muted);margin-bottom:6px;display:block}
select,input,textarea{
width:100%;
padding:14px;
border-radius:14px;
border:none;
background:#000;
color:#fff;
}

/* BUTTONY */
.btn{
width:100%;
padding:16px;
border-radius:16px;
border:none;
font-size:17px;
font-weight:600;
margin-top:12px;
}
.btn-primary{background:var(--yellow);color:#000}
.btn-secondary{background:transparent;color:var(--yellow);border:1px solid var(--yellow)}
.btn-dark{background:#000;color:#fff;border:1px solid #333}

/* GWIAZDKI */
.stars{display:flex;justify-content:center;gap:6px;font-size:28px;cursor:pointer}
.star{color:#333}
.star.active{color:var(--yellow)}

/* OPINIE */
.review{
border-bottom:1px solid rgba(255,255,255,.08);
padding:10px 0;
}
.review:last-child{border:none}
.review-stars{color:var(--yellow)}
.review-text{font-size:14px;color:#ddd}

/* STOPKA */
footer{text-align:center;padding:18px;color:var(--muted)}
footer a{color:var(--yellow);text-decoration:none}
</style>
</head>

<body>

<div class="banner">
<img src="logo.png">
</div>

<div class="banner-text">
<h1>Night Delivery Ma≈Çdyty</h1>
<p>Dostawa & przew√≥z 24/7</p>

<div class="avg-rating" id="avgRating">‚≠ê 0.0 / 5 (0 opinii)</div>

<div class="lang">
<button>PL</button>
<button>EN</button>
<button>UA</button>
</div>
</div>

<main>

<div class="card">
<span class="label">Rodzaj us≈Çugi</span>
<select id="type">
<option value="delivery">üçî Dostawa</option>
<option value="ride">üöó Przew√≥z</option>
</select>
</div>

<div class="card">
<span class="label">Dystans (km)</span>
<input type="number" id="km">
<button class="btn btn-dark" onclick="getGPS()">üìç GPS</button>
</div>

<div class="card">
<span class="label">Napiwek</span>
<select id="tip">
<option value="0">Bez napiwku</option>
<option value="5">5 z≈Ç</option>
<option value="10">10 z≈Ç</option>
<option value="15">15 z≈Ç</option>
</select>
</div>

<div class="card">
<button class="btn btn-primary" onclick="calculate()">üí∞ Oblicz cenƒô</button>
<div class="price" id="result"></div>
</div>

<!-- DODAJ OPINIƒò -->
<div class="card">
<span class="label">Wystaw opiniƒô</span>
<div class="stars" id="stars"></div>
<textarea id="reviewText" rows="2" placeholder="Napisz kr√≥tkƒÖ opiniƒô..."></textarea>
<button class="btn btn-secondary" onclick="addReview()">‚ûï Dodaj opiniƒô</button>
</div>

<!-- LISTA OPINII -->
<div class="card">
<span class="label">Opinie klient√≥w</span>
<div id="reviews"></div>
</div>

<div class="card">
<button class="btn btn-secondary" onclick="sendOrder()">üì≤ Zam√≥w</button>
</div>

</main>

<footer>
üìû <a href="tel:+48512956789">512 956 789</a>
</footer>

<script>
const MALDYTY={lat:53.9586,lon:19.7406};
let rating=0;
let reviews=JSON.parse(localStorage.getItem("reviews")||"[]");

function getGPS(){
navigator.geolocation.getCurrentPosition(p=>{
km.value=dist(MALDYTY.lat,MALDYTY.lon,p.coords.latitude,p.coords.longitude).toFixed(1);
});
}

function dist(a,b,c,d){
const R=6371;
const dLat=(c-a)*Math.PI/180;
const dLon=(d-b)*Math.PI/180;
const x=Math.sin(dLat/2)**2+
Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*
Math.sin(dLon/2)**2;
return R*2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));
}

function calculate(){
const k=Number(km.value), t=Number(tip.value);
if(!k)return;
const night=new Date().getHours()>=22||new Date().getHours()<6;
let p=type.value==="delivery"
? night?19+k*1.6:15+k*1.4
: night?8+k*2.8:6+k*2.5;
result.innerText=(p+t).toFixed(2)+" z≈Ç";
}

function sendOrder(){
const txt=`Night Delivery
Cena: ${result.innerText}
Ocena: ${rating}/5`;
window.open(`https://wa.me/48512956789?text=${encodeURIComponent(txt)}`);
}

/* GWIAZDKI */
const starsDiv=document.getElementById("stars");
for(let i=1;i<=5;i++){
const s=document.createElement("span");
s.innerText="‚òÖ";
s.className="star";
s.onclick=()=>setRating(i);
starsDiv.appendChild(s);
}
function setRating(v){
rating=v;
[...starsDiv.children].forEach((s,i)=>s.classList.toggle("active",i<v));
}

/* OPINIE */
function addReview(){
if(!rating)return alert("Wybierz ocenƒô");
reviews.push({rating,text:reviewText.value});
localStorage.setItem("reviews",JSON.stringify(reviews));
reviewText.value="";
rating=0;
[...starsDiv.children].forEach(s=>s.classList.remove("active"));
renderReviews();
}

function renderReviews(){
reviewsDiv.innerHTML="";
let sum=0;
reviews.forEach(r=>{
sum+=r.rating;
reviewsDiv.innerHTML+=`
<div class="review">
<div class="review-stars">${"‚òÖ".repeat(r.rating)}</div>
<div class="review-text">${r.text||""}</div>
</div>`;
});
const avg=reviews.length?(sum/reviews.length).toFixed(1):"0.0";
avgRating.innerText=`‚≠ê ${avg} / 5 (${reviews.length} opinii)`;
}

renderReviews();
</script>

</body>
</html>


<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Night Delivery Ma≈Çdyty</title>

<style>
:root{
--bg:#000;
--card:#111;
--yellow:#f5c400;
--text:#fff;
--muted:#aaa;
}

*{
box-sizing:border-box;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
}

body{
margin:0;
background:var(--bg);
color:var(--text);
}

/* ===== HEADER ===== */
header{
padding:16px;
background:var(--bg);
border-bottom:1px solid #222;
}

.header-inner{
max-width:520px;
margin:auto;
}

.logo{
width:160px;
max-width:100%;
margin-bottom:10px;
}

header p{
margin:0;
color:var(--muted);
font-size:14px;
}

/* ===== MAIN ===== */
main{
max-width:520px;
margin:auto;
padding:16px;
}

/* ===== CARD ===== */
.card{
background:var(--card);
border-radius:18px;
padding:16px;
margin-bottom:16px;
}

/* ===== FORM ===== */
.label{
font-size:13px;
color:var(--muted);
margin-bottom:6px;
display:block;
}

select,input,textarea{
width:100%;
padding:14px;
border-radius:14px;
border:1px solid #222;
background:#000;
color:#fff;
font-size:16px;
}

textarea{resize:none}

/* ===== BUTTONS ===== */
.btn{
width:100%;
padding:16px;
border-radius:16px;
border:none;
font-size:17px;
font-weight:600;
margin-top:12px;
display:flex;
align-items:center;
justify-content:center;
gap:10px;
}

.btn-primary{
background:var(--yellow);
color:#000;
}

.btn-secondary{
background:#000;
color:var(--yellow);
border:1px solid var(--yellow);
}

.btn-dark{
background:#000;
color:#fff;
border:1px solid #333;
}

/* ===== INFO ===== */
.info{
font-size:13px;
color:var(--muted);
text-align:center;
margin-top:6px;
}

/* ===== PRICE ===== */
.price{
font-size:28px;
font-weight:700;
color:var(--yellow);
text-align:center;
margin-top:10px;
}

/* ===== FOOTER ===== */
footer{
text-align:center;
padding:16px;
font-size:14px;
color:var(--muted);
border-top:1px solid #222;
}
footer a{
color:var(--yellow);
text-decoration:none;
}

/* ===== ICON STYLE (UBER-LIKE) ===== */
.icon{
width:20px;
height:20px;
display:inline-block;
}
</style>
</head>

<body>

<header>
<div class="header-inner">
<img src="logo.png" alt="Night Delivery" class="logo">
<p>Dostawa & przew√≥z 24/7</p>
</div>
</header>

<main>

<!-- US≈ÅUGA -->
<div class="card">
<span class="label">Rodzaj us≈Çugi</span>
<select id="type">
<option value="delivery">üçî Dostawa (jedzenie / zakupy)</option>
<option value="ride">üöó Przew√≥z osoby</option>
</select>
</div>

<!-- DYSTANS -->
<div class="card">
<span class="label">Dystans (km)</span>
<input type="number" id="km" placeholder="np. 12">
<button class="btn btn-dark" onclick="getGPS()">üìç Pobierz dystans z GPS</button>
<div class="info">Orientacyjnie od centrum Ma≈Çdyt</div>
</div>

<!-- OPIS -->
<div class="card">
<span class="label">Adres / opis zam√≥wienia</span>
<textarea id="note" rows="3" placeholder="Adres odbioru, co kupiƒá itp."></textarea>
</div>

<!-- CENA -->
<div class="card">
<button class="btn btn-primary" onclick="calculate()">üí∞ Oblicz cenƒô</button>
<div class="price" id="result"></div>
<div class="info" id="timeInfo"></div>
</div>

<!-- ZAM√ìW -->
<div class="card">
<button class="btn btn-secondary" onclick="sendOrder()">üì≤ Zam√≥w (WhatsApp / SMS)</button>
</div>

</main>

<footer>
üìû <a href="tel:+48512956789">512 956 789</a><br>
Godziny nocne 22:00‚Äì6:00 (dro≈ºsze stawki)
</footer>

<script>
const MALDYTY = { lat:53.9586, lon:19.7406 };

function getGPS(){
if(!navigator.geolocation){
alert("GPS niedostƒôpny");
return;
}
navigator.geolocation.getCurrentPosition(pos=>{
const km = distance(
MALDYTY.lat,MALDYTY.lon,
pos.coords.latitude,pos.coords.longitude
);
document.getElementById("km").value = km.toFixed(1);
});
}

function distance(lat1,lon1,lat2,lon2){
const R=6371;
const dLat=(lat2-lat1)*Math.PI/180;
const dLon=(lon2-lon1)*Math.PI/180;
const a=
Math.sin(dLat/2)**2 +
Math.cos(lat1*Math.PI/180)*
Math.cos(lat2*Math.PI/180)*
Math.sin(dLon/2)**2;
return R*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));
}

function calculate(){
const km=Number(document.getElementById("km").value);
const type=document.getElementById("type").value;
if(!km||km<=0){
result.innerText="Podaj dystans";
return;
}

const hour=new Date().getHours();
const night=hour>=22||hour<6;
let price=0;

if(type==="delivery"){
price = night ? 19+km*1.6 : 15+km*1.4;
}else{
price = night ? 8+km*2.8 : 6+km*2.5;
}

result.innerText = price.toFixed(2)+" z≈Ç";
timeInfo.innerText = night ? "Taryfa nocna üåô" : "Taryfa dzienna ‚òÄÔ∏è";
}

function sendOrder(){
const km=document.getElementById("km").value;
const type=document.getElementById("type").value;
const note=document.getElementById("note").value;
const price=document.getElementById("result").innerText;

if(!price){
alert("Najpierw oblicz cenƒô");
return;
}

const text=`Night Delivery Ma≈Çdyty
Us≈Çuga: ${type==="delivery"?"Dostawa":"Przew√≥z"}
Dystans: ${km} km
Cena: ${price}
Info: ${note}`;

const phone="512956789";
window.open(`https://wa.me/48${phone}?text=${encodeURIComponent(text)}`,"_blank");
}
</script>

</body>
</html>
